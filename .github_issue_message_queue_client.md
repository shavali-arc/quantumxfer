# Feature: Message Queue Client for QuantumXfer

## ðŸŽ¯ Overview

Add Message Queue Client to QuantumXfer for interacting with RabbitMQ, Kafka, and AWS SQS directly from terminal sessions. Critical for DevOps managing message-driven architectures.

## ðŸ’¡ Problem Statement

DevOps teams managing message queues need to:
- Publish messages
- Consume/debug messages
- Check queue status
- Manage topics & consumers
- Test message formats

**Challenge**: Must use separate queue management tools (RabbitMQ Management, Kafka CLI, AWS CLI)

## âœ¨ Solution

Message queue client integrated in terminal:
- RabbitMQ (AMQP) support
- Apache Kafka support
- AWS SQS support
- Publish/consume messages
- Queue/topic management

## ðŸ“‹ Requirements

### Core Functionality

#### RabbitMQ/AMQP
- [ ] Connect to RabbitMQ
- [ ] List exchanges, queues, bindings
- [ ] Publish messages
- [ ] Consume messages
- [ ] Create queues & exchanges
- [ ] Delete queues
- [ ] Clear queue
- [ ] Get queue stats

#### Kafka
- [ ] Connect to Kafka brokers
- [ ] List topics & partitions
- [ ] Produce messages
- [ ] Consume messages
- [ ] Create topics
- [ ] Delete topics
- [ ] Consumer group management
- [ ] Offset management

#### AWS SQS
- [ ] Connect to AWS SQS
- [ ] List queues
- [ ] Send messages
- [ ] Receive messages
- [ ] Delete messages
- [ ] Get queue attributes

### Terminal Commands

#### RabbitMQ
```bash
# Connect
AMQP amqp://rabbit.internal:5672 -u guest -p guest

# List info
AMQP-EXCHANGES
AMQP-QUEUES
AMQP-BINDINGS

# Publish
AMQP-PUB exchange:routing.key '{"data":"value"}'

# Consume
AMQP-SUB queue:my-queue --limit=10

# Manage
AMQP-QUEUE-CREATE my-queue
AMQP-QUEUE-DELETE my-queue
AMQP-QUEUE-PURGE my-queue
AMQP-QUEUE-STATS my-queue
```

#### Kafka
```bash
# Connect
KAFKA kafka://broker.internal:9092

# List topics
KAFKA-TOPICS

# Produce
KAFKA-PRODUCE topic '{"event":"created","id":123}'

# Consume
KAFKA-CONSUME topic --group=my-consumer --limit=5

# Manage
KAFKA-TOPIC-CREATE topic --partitions=3
KAFKA-CONSUMER-GROUPS
KAFKA-OFFSETS topic --group=my-consumer
```

#### AWS SQS
```bash
# Connect
SQS sqs://us-east-1/123456789012 --profile=prod

# List queues
SQS-QUEUES

# Send message
SQS-SEND queue-name '{"message":"data"}'

# Receive
SQS-RECEIVE queue-name --limit=10

# Stats
SQS-STATS queue-name
```

### UI/UX Requirements
- [ ] Queue/topic browser
- [ ] Message display with formatting
- [ ] Message count display
- [ ] Connection status
- [ ] Error messages with suggestions
- [ ] Message search/filtering
- [ ] Stats display (messages, consumers)

## ðŸ—ï¸ Technical Design

### Architecture
```
Terminal Input â†’ Queue Parser â†’ Queue Client â†’ Message Broker â†’ Response
    "AMQP..."      â†“              â†“                â†“             â†“
    detects queue  validates      builds client   publish/      formatted
    command        syntax         connection      consume        response
```

### Files to Create/Modify
1. **New**: `electron/message-queue-client.js` (~250 lines)
2. **New**: `electron/queue-drivers/amqp-driver.js` (~150 lines)
3. **New**: `electron/queue-drivers/kafka-driver.js` (~150 lines)
4. **New**: `electron/queue-drivers/sqs-driver.js` (~120 lines)
5. **Update**: `electron/main.js` (+20 lines)
6. **Update**: `src/types/electron.d.ts` (+30 lines)
7. **Update**: `src/App_new.tsx` (~150 lines)

### NPM Dependencies
- `amqplib` - RabbitMQ/AMQP
- `kafkajs` - Apache Kafka
- `aws-sdk` - AWS SQS

## ðŸ“Š Use Cases

### 1. RabbitMQ Debugging
```bash
# SSH into microservices infrastructure
$ ssh ubuntu@service-mesh

# Connect to RabbitMQ
$ AMQP amqp://rabbitmq-server:5672 -u admin -p securepass

# Check queue status
$ AMQP-QUEUE-STATS order-notifications

Queue: order-notifications
Messages: 1,523
Consumers: 2
Status: idle

# Publish test message
$ AMQP-PUB order-exchange:order.created '{"order_id":"O-12345","total":99.99}'

âœ… Published to order-exchange:order.created
```

### 2. Kafka Topic Management
```bash
# Monitor Kafka cluster
$ KAFKA kafka://kafka-broker:9092

# Check topics
$ KAFKA-TOPICS

Topics:
  - orders (3 partitions, 2 replicas)
  - payments (2 partitions, 2 replicas)
  - notifications (1 partition, 1 replica)

# Produce event
$ KAFKA-PRODUCE events '{"event":"user.signup","user_id":"U-999"}'

# Monitor consumer lag
$ KAFKA-OFFSETS events --group=notification-service

Partition 0: Offset 1523, Lag 45
Partition 1: Offset 2104, Lag 12
Partition 2: Offset 1987, Lag 8
```

### 3. AWS SQS Operations
```bash
# Deploy to AWS
$ ssh ubuntu@deployment-server

# Access SQS
$ SQS sqs://us-east-1/123456789012 --profile=prod

# Send batch of messages
$ SQS-SEND task-queue '{"job":"email","to":"user@example.com"}'
$ SQS-SEND task-queue '{"job":"report","report_id":"RPT-001"}'
$ SQS-SEND task-queue '{"job":"backup","database":"orders"}'

# Check queue
$ SQS-STATS task-queue

Queue URL: https://queue.amazonaws.com/123456789012/task-queue
Messages: 3
MessageRetentionPeriod: 345600
VisibilityTimeout: 30
```

### 4. Queue Monitoring
```bash
# Monitor message flow
$ AMQP amqp://rabbitmq:5672

# Subscribe to queue and watch
$ AMQP-SUB notifications-queue

Waiting for messages...

>>> [2025-11-29 14:30:45] Order notification: order_123 (from user@example.com)
>>> [2025-11-29 14:30:46] Email sent: success
>>> [2025-11-29 14:30:47] Order notification: order_124 (admin notice)
>>> [2025-11-29 14:30:48] Email queued: pending delivery

Messages received: 4
```

## ðŸ“Š Implementation Estimate

**Timeline**: 3 weeks  
**Effort**: 140-170 hours

Deliverables:
- Message queue client module
- RabbitMQ driver
- Kafka driver
- AWS SQS driver
- Terminal integration
- Tests & documentation

## ðŸŽ¯ Success Criteria

- âœ… Connect to RabbitMQ, Kafka, AWS SQS
- âœ… Publish/consume messages
- âœ… Queue/topic management
- âœ… Stats & monitoring
- âœ… Error handling
- âœ… Message formatting

## ðŸ”— Related Issues
- #64 - REST API Client
- #65 - Database Client
- #66 - WebSocket Client
- #69 - gRPC Client

---

**Critical for message-driven architectures!** ðŸš€
